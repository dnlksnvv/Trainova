{"openapi":"3.1.0","info":{"title":"Comments Service","description":"Сервис управления комментариями для уроков","version":"1.0.0"},"paths":{"/comments/":{"post":{"tags":["Comments"],"summary":"Add Comment","operationId":"add_comment_comments__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Comments"],"summary":"List Comments","operationId":"list_comments_comments__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"lesson_id","in":"query","required":true,"schema":{"type":"string","title":"Lesson Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/comments/{comment_id}":{"put":{"tags":["Comments"],"summary":"Modify Comment","operationId":"modify_comment_comments__comment_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"string","title":"Comment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Comments"],"summary":"Remove Comment","operationId":"remove_comment_comments__comment_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"string","title":"Comment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CommentCreateRequest":{"properties":{"lesson_id":{"type":"string","title":"Lesson Id"},"text":{"type":"string","title":"Text"},"parent_comment_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Comment Id"}},"type":"object","required":["lesson_id","text"],"title":"CommentCreateRequest"},"CommentDeleteResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"CommentDeleteResponse"},"CommentResponse":{"properties":{"comment_id":{"type":"string","title":"Comment Id"},"user_id":{"type":"string","title":"User Id"},"lesson_id":{"type":"string","title":"Lesson Id"},"text":{"type":"string","title":"Text"},"parent_comment_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Comment Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"replies":{"anyOf":[{"items":{"$ref":"#/components/schemas/CommentResponse"},"type":"array"},{"type":"null"}],"title":"Replies"}},"type":"object","required":["comment_id","user_id","lesson_id","text","created_at"],"title":"CommentResponse"},"CommentUpdateRequest":{"properties":{"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"CommentUpdateRequest"},"CommentsListResponse":{"properties":{"comments":{"items":{"$ref":"#/components/schemas/CommentResponse"},"type":"array","title":"Comments"}},"type":"object","required":["comments"],"title":"CommentsListResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}